# SMS Service Configuration Example
# Copy this file to .env and fill in the values

# ============================================================================
# CRITICAL SECURITY: JWT Secret Configuration
# ============================================================================
# REQUIRED: JWT secret for token signing
# SECURITY: Generate with: python -c 'import secrets; print(secrets.token_urlsafe(48))'
# MINIMUM: 32 characters
# PRODUCTION: Must be cryptographically secure random value
JWT_SECRET_KEY=your_secure_jwt_secret_min_32_chars_change_this_value

# ============================================================================
# Application Configuration
# ============================================================================
APP_NAME=sms-service
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, or production
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# Server Configuration
# ============================================================================
HOST=0.0.0.0
PORT=8000

# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/sms_service
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ============================================================================
# RabbitMQ Configuration
# ============================================================================
RABBITMQ_URL=amqp://guest:guest@localhost:5672/
RABBITMQ_EXCHANGE=sms.direct
RABBITMQ_QUEUE=sms.send
RABBITMQ_DLQ=sms.dlq
RABBITMQ_PREFETCH_COUNT=10

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
RATE_LIMIT_PER_PHONE=5
RATE_LIMIT_PER_CLIENT=100
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================================================
# OTP Configuration
# ============================================================================
OTP_LENGTH=6
OTP_TTL_SECONDS=300  # 5 minutes
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_PER_PHONE=3
OTP_RATE_LIMIT_WINDOW_SECONDS=3600  # 1 hour

# ============================================================================
# SMS Configuration
# ============================================================================
SMS_MAX_MESSAGE_LENGTH=1600

# ============================================================================
# Provider Configuration
# ============================================================================
PRIMARY_PROVIDER=twilio
FALLBACK_PROVIDER=messagebird

# ============================================================================
# Twilio Configuration
# ============================================================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
TWILIO_WEBHOOK_SECRET=

# ============================================================================
# MessageBird Configuration
# ============================================================================
MESSAGEBIRD_API_KEY=
MESSAGEBIRD_ORIGINATOR=
MESSAGEBIRD_WEBHOOK_SECRET=

# ============================================================================
# Circuit Breaker Configuration
# ============================================================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30

# ============================================================================
# Retry Configuration
# ============================================================================
RETRY_BASE_DELAY=2.0
RETRY_MAX_ATTEMPTS=5
RETRY_MAX_DELAY=60.0

# ============================================================================
# JWT Configuration
# ============================================================================
JWT_ALGORITHM=HS256
JWT_ISSUER=auth-service

# ============================================================================
# OpenTelemetry Configuration
# ============================================================================
OTEL_ENABLED=true
OTEL_SERVICE_NAME=sms-service
OTEL_EXPORTER_ENDPOINT=http://localhost:4317

# ============================================================================
# Prometheus Configuration
# ============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
