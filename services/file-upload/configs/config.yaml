server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  shutdown_timeout: 10s

storage:
  provider: "s3"
  bucket: "file-uploads"
  region: "us-east-1"
  endpoint: ""
  use_path_style: false
  public_access: false
  signed_url_expiry: 1h

database:
  host: "localhost"
  port: 5432
  user: "postgres"
  password: "postgres"
  database: "file_upload"
  ssl_mode: "disable"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 5m

redis:
  host: "localhost"
  port: 6379
  password: ""
  db: 0

auth:
  jwks_url: "http://localhost:8081/.well-known/jwks.json"
  issuer: "auth-platform"
  audience: "file-upload-service"
  cache_duration: 5m

upload:
  max_file_size: 10485760        # 10MB
  max_chunked_size: 5368709120   # 5GB
  chunk_size: 5242880            # 5MB
  chunk_threshold: 104857600     # 100MB
  session_expiry: 24h
  allowed_mime_types:
    - "image/jpeg"
    - "image/png"
    - "image/gif"
    - "application/pdf"
    - "video/mp4"
    - "video/quicktime"
    - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    - "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
  rate_limit_per_min: 100
  worker_pool_size: 10
  retention_days: 30

scanner:
  enabled: true
  host: "localhost"
  port: 3310
  timeout: 30s

metrics:
  enabled: true
  path: "/metrics"
