# PodDisruptionBudgets for Production
# Ensures high availability during node maintenance

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: auth-edge-service-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: auth-edge-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: token-service-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: token-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: session-identity-core-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: session-identity-core

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: iam-policy-service-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: iam-policy-service

---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: mfa-service-pdb
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: mfa-service
